<plain_text> <page sequence="1"> 2015-01-1441 Published 04/14/2015 Copyright © 2015 SAE International doi:10.4271/2015-01-1441 saetransaf.saejournals.org Assessment of Similarity of a Set of Impact Response Time Histories Yibing Shi and Guy Nusholtz FCA US LLC ABSTRACT Two methods of assessing the similarity of a set of impact test signals have been proposed and used in the literature, which are  cumulative variance-based and cross correlation-based. In this study, a normalized formulation unites these two approaches by  establishing a relationship between the normalized cumulative variance metric (v), an overall similarity metric, and the normalized  magnitude similarity metric (m) and shape similarity metric (s): v=1 − m · s. Each of these ranges between 0 and 1 (for the practical  case of signals acquired with the same polarity), and they are independent of the physical unit of measurement. Under generally  satisfied conditions, the magnitude similarity m is independent of the relative time shifts among the signals in the set; while the shape  similarity s is a function of these. An optimal alignment is defined as the relative shifts corresponding to the minimum of the  cumulative variance metric, or equivalently, to the maximum of the shape similarity metric. This system therefore quantifies the  similarity of a given set of signals with an “as given” relative time alignment with the following: v = 1− m(p + sa), i.e., its overall  similarity is partitioned into the shift-invariant normalized magnitude metric m, and the inherent (optimally aligned) normalized shape  metric sa, and a normalized phase metric p which reflects the alignment. An algorithm is provided for automatic search of the optimal shifts for a given set of signals using the cumulative variance as the  objective function. The shifts are treated as real numbers instead of integers so that standard continuous variable optimization functions  can be used to treat the discrete signals. This is facilitated by an interpolation procedure for shifting a signal with a real-valued time  shift. Numerical examples are presented to demonstrate the general effectiveness of the algorithm, and also specific limitations on  consistent convergence to the global optimal. Practical measures that would mitigate the limitations and alternative numerical methods  that would fundamentally remove these are suggested. CITATION: Shi, Y. and Nusholtz, G., "Assessment of Similarity of a Set of Impact Response Time Histories," SAE Int. J. Trans. Safety  3(1):2015, doi:10.4271/2015-01-1441. INTRODUCTION For assessing the similarity of a set of more than two tests, the  A set of similar but nonidentical response time histories typically following CV definition was also introduced which covers Eq. (1) as  result from impact tests with anthropomorphic test devices (ATD), or a special case: a set of postmortem human subjects (PMHS), under nominally repeat  test conditions. Summary metrics that quantify the degree of  similarity of such a set are needed for assessing the ATD biofidelity  Eq. (2) and repeatability/reproducibility, including repeatability of test results  from different laboratories. where  denotes the average of the set a which includes n signals. A summary descriptor of the agreement between a set of two time Furthermore, for the scenario of assessing the similarity of one test to  histories was introduced by Morgan, Marcus and Eppinger [1]. It is a reference set of tests, as in the case of comparing an ATD test to its  based on the “cumulative variance” (CV) as shown in Eq. (1): targeted PMHS reference which often contains multiple tests  embodying the scatter in test subjects, the following metric based on  the CV was proposed: Eq. (1) Eq. (3) 28 </page> <page sequence="2"> Shi et al / SAE Int. J. Trans. Safety / Volume 3, Issue 1 (April 2015) 29 One aspect intertwined with the CV-based similarity assessment is alignment problem, and used essentially the same objective function  ‘alignment’, which is the relative shift in time of the pair in the case as Nusholtz et al. [4]. A significant difference however is that instead  of Eq. (1), or relative shifts among the time histories in the set in the of n-1 independent shifts for a set of n signals, relative shifts between  case of Eq. (2); In the case of Eq. (3), alignment underlies both the each permutation pairs of signals is set as a variable, resulting in a  CVs. Because a set of responses (two or more) each having the same total number of search variables to n(n-1). Since these are in fact not  underlying impact physics may be shifted in time, either due to independent of each other, their relationships have to be introduced in  instrumentation triggering or inconsequential differences in test the optimization as contraints, and in [5] the Lagrangian multipliers  subjects (such as in subcutaneous fat layer), alignment is often method was used to solve the contrained optimization. The  necessary before the final CV-based similarity assessment as the CV computational method presented for the optimization search is  value generally changes when the signals are shifted relative to each approximate because it used an assumption that the derivative of the  other. Morgan et al. [1] proposed that optimal alignment is achieved crosscorrelation function is constant [5]. This method was applied in  when the CV is minimized. However, a general algorithm for Kang et al. [6] to align PMHS test results. aligning a set of more than two signals was not proposed or  numerically demonstrated. Once a set of time histories are aligned, the similarity of the aligned  set may be further analysed in terms of “magnitude” and “shape”  Xu et al. [2], in assessing the repeatability of test results from ATD qualities. In Xu et al. [2] these were defined to be normalized metrics,  under development, defined and used pair-wise “magnitude” and but they were not combined to form an overall metric. Moorhouse et  “shape” metrics. These metrics are based on the correlation function al. [7] extended the CV based summary metric in Eq. (3) by breaking  between the pair of signals (zero-shift autocorrelation for the down its numerator into three components and arrived at the  “magnitudes” and maximum crosscorrelation for the “shape”). Time following partition: alignment of the two time histories is achieved through maximizing  the crosscorrelation between the two signals, as opposed to  minimizing the CV. Finding the aligning time shift is straightforward Eq. (5) with two signals, as the entire crosscorrelation function can be  calculated efficiently numerically via Fast Fourier Transform for where Rphase (given by Eq. C7 in [7]) is essentially the following: digital signals. The problem of aligning more than two signals is addressed by  Maltese et al. [3]. A numerical scheme was proposed which Eq. (6) designates one signal that “appeared to have the most typical shape of  all signals” as a standard, and then aligns each of the rest of the set to which means that it is a normalized reduction of the CV due to the  this standard. The designation of the ‘standard’ is subjective. aligning the ATD time history to the mean time history of the PMHS.  Furthermore, unlike the crosscorrelation maximization scheme in [2], Therefore, the quality of alignment of the ‘as collected’ ATD and  for each alignment, the CV is calculated in [3] as a function of all PMHS mean responses is reflected by Rphase. The remaining two  possible time step shifts for the digital signals to identify the optimal factors measure the similarity of the “aligned” ATD and PMHS mean  shift, i.e., via brute force. responses. Their meanings are clearer, if they are rewritten into the  following forms from those given in Eqs. C9 and C10 in [7]: Nusholtz et al. [4] proposed two schemes for aligning a set of signals.  Recognizing that there are only n-1 independent time shifts to align a  set of n signals, one of the two methods seeks to maximize the  following: Eq. (7) Eq. (8) Eq. (4) which is the average of all the permutation of the crosscorrelation Eq. (9) functions under a given set of shifts. Therefore, this approach solves  the multiple time shifts simulateneous by formulating the problem ρmax is the normalized crosscorrelation at the time shift τmax  into a multivariable optimzation problem. The optimization search corresponding to the maximum of the crosscorrelation function, as  was numberically carried out using the function fminunc.m in Matlab used in [2]. Since ρmax appears in Eqs. (8), it means that the partition  Optimization Toolbox, with a modification to allow for integer shifts proposed in Moorhouse et al. [7] does not truly completely separate  associated with the digitial signals. This alignment algorithm as a the shape information from the amplitude information (another way  result is a formal gradient-based iterative optimization search. to view this is that based on Eqs. (7) and (8), Ramp and Rshape are not  Donnelly and Moorhouse [5] tackeld the same multi-signals independent metrics). </page> <page sequence="3"> 30 Shi et al / SAE Int. J. Trans. Safety / Volume 3, Issue 1 (April 2015) The approach of using separate phase, amplitude, and shape metrics, FORMULATION OF ASSESSMENT METRICS and also combining these into one overall rating is also followed by Let xi(t), i = 1, ..., n be a set of impact response time histories. At any Gehre et al. [8] and Gehre and Stahlschmidt [9]. Their three given time, t, we have individual metrics are fundamentally based on the crosscorrelation  function. The normalization of these metrics and their combination  into the overall rating involve weighting factors whose values need to  be chosen. The metrics and the final rating therefore generally change  depending on the choice of these. Only the two-signal case is covered Eq. (10) in [8, 9]. If we view this set of impact responses as a sample of an underlying  The above review has highlighted the following aspects of the topic random process, then the left side of the equation is the sample  of similarity assessment of a set of impact response signals: (1) What variance as a function of time. Since our objective is to construct a  are the meaningful metrics to quantify the ‘similarity’? The CV has summary descriptor throughout the impact duration, the above  relationship is time-averaged: been proposed and used as a summary metric; and separate “shape”  and “magnitude” metrics have also been established as more detailed  characterizations of the similarity. The “shape” metric has been  largely based on crosscorrelation. (2) How to relate the detailed  “shape” and “magnitude” metrics to an overall similarity metric, or in Eq. (11) other words, how to logically partition the summary metric into the  detailed “component” metrics? (3) How to formulate the alignment Define the norm, or magnitude, of each signal as: problem for a set of more than two signals? and what is an efficient  and systematic numerical algorithm for optimal alignment in this  situation? Minimizing the CV or maximizing the (sum of)  crosscorrelation have been proposed in different studies, and most of Eq. (12) the numerical schemes have been less than rigorous, in the sense of  Further, define an overall similarity metric v, which is a normalized  formal optimization search. cumulative variance, as Questions (1) and (2) have been answered by one original study on  this subject by Jovanovski [10]. It treated the signals as realizations  of a random process and proposed a metric, the Integral Square Error  (ISE) which in essence is a version of the CV. A normalized metric  NISE was also formulated. Based on these and the crosscorrelation Eq. (13) function, the similarity was partitioned into phase and amplitude Then the relationship of Eq. (11) becomes: components. The concepts and approach in [10] can be viewed as the  basis of a number of studies cited so far, and it was used in [11]. They  are also the starting point of this current study. Question (3) above,  however, was not addressed in [10], as formulation and numerical  applications all involved only a pair of signals. Eq. (14) The objective of this study is to analyze and answer the three The above can be written as: questions above in the context of a set of more than two signals; and  propose a general similarity assessment framework containing  normalized assessment metrics and an objective alignment method. Eq. (15) In the following, a simple formulation is presented that, for a set of where: signals, relates a CV-based metric to a magnitude metric and  crosscorrelation-based shape metric, and this relationship provides a  natural and logical decomposition of the overall CV-based metric into  the more detailed magnitude and phase metrics. All these metrics are  normalized quantities with known ranges. Furthermore, this Eq. (16) formulation shows that, under a typically satisfied condition,  minimizing the CV and maximizing the sum of correlation are  mathematically equivalent for aligning a set of signals. Finally, a  practical algorithm is presented for optimal alignment through formal Eq. (17) optimization search. </page> <page sequence="4"> Shi et al / SAE Int. J. Trans. Safety / Volume 3, Issue 1 (April 2015) 31 Eq. (17) can be viewed as a generalized version of the two-signal Simple two-signal examples can be used to illustrate the meaning of  shape metric definition in [10, 2]. the above. Eqs. (16) and (17) simplify to the following in this case: For convenience of notation and discussion, the equations have been  written for continuous time signals. The discrete signal counterparts  of Eqs. (14), (16), and (17) are obtained by replacing the integrations Eq. (20) with summation, and these are listed in Appendix A. The metrics m and s reflect different aspects of the similarity of the  set of time histories. The value of the metric m, is only dependent on  Eq. (21) the relative magnitudes of the time histories regardless of their  shapes. Therefore, we call m the magnitude similarity metric. Note More specifically, let the two signals to be directly related by a scale  that when the norms of the signals are identical, m achieves a value of factor: 1. When the magnitude of each signal maintains but its exact time Eq. (22) history changes, i.e., when its ‘shape’ changes, the metric s for the set  generally changes. Therefore, we call s the shape similarity metric. then the metrics are functions of the scale factor k (p = 0 in this case  Note that when all the time histories are strictly proportional (by because the signals as given are always aligned): definition, aligned in time), i.e., have the same ‘shape’, s achieves a  value of 1, regardless of their magnitudes. The values of both the overall similarity metric v and the shape Eq. (23) similarity metric s of a given set depend on the relative shifts in time  of the signals, i.e., the alignment. However, the value of the  magnitude metric m is independent of the alignment, under the Eq. (24) condition that the time duration T is chosen sufficiently large to cover  the non-zero part of the response for any meaningful relative shifts  between the signals of the set (see Eq. (12)). It then follows that the  dependences on the alignment by the overall similarity metric v and Eq. (25) that by the shape similarity metric s are strictly equivalent. It is These are graphically shown in Figure 1. logical to define the optimal alignment for a set as that which  maximizes the shape metric s; and the equivalency means that the  optimal alignment also minimizes the overall metric v. The definition of the metrics and alignment presented above also  leads to another natural ‘phase’ metric which quantifies the degree of  (mis)alignment of the set of signals using the optimally aligned  configuration as a reference: Eq. (18) where the subscript ‘a’ denotes the optimally aligned state, and sa ≡  s(τa) is evaluated under the optimal set of shifts τa. Therefore, Eq. (19) Figure 1. Magnitude, shape, and overall metrics of a scaled pair of time  This relationship may be thought of as a natural decomposition of the histories. Note the influence of the sign of the scale factor k on the range of  overall similarity metric into three metrics, magnitude (m), and values of the metrics: when k&lt;0, 1&lt;v&lt;2, s=−1; and when k&gt;=0, 0&lt;v&lt;=1, s =  inherent shape (sa), and phase (p), in the current framework of 1. quantifying similarity. This decomposition scheme can be viewed as  an extension of that in [10]. </page> <page sequence="5"> 32 Shi et al / SAE Int. J. Trans. Safety / Volume 3, Issue 1 (April 2015) As a second example, a time-scaled pair of signals, as schematically A desirable property of all the metrics above is that they are  shown in Figure 2 and defined below, is examined: normalized and dimensionless. Furthermore, their ranges are well  defined which makes them useful for comparing responses from  different tests, regardless of, for example, the severity of the impact  and physical unit of measurement, etc. The above examples give  Eq. (26) some hint of the ranges, and detailed derivations are given in  Appendix B. Furthermore, the two-signal case examples above  (Figures 1 and 3) indicate that the relative ‘sign of the signals’ further  Eq. (27) subdivides these ranges. If we restrict our attention to the practical  case where the signals ‘have the same sign’ (it is arguably of no  These are half-period sine functions, and they are assumed to be zero practical interest to assess the similarity of two impact signals that are  outside their respective half-period. The magnitude of the second mostly opposite in sign), or more precisely, s ≥ 0, we then have the  function has been scaled so that their norms are the same, therefore, range of all the metrics to be between 0 and 1: the magnitude metric m in this example is always 1. Eq. (30) OPTIMAL ALIGNMENT SEARCH  ALGORITHM The established equivalence of the dependence of v and s on  alignment means that the search for the optimal alignment can be  carried out based on either of the two. The numbers of operations for  evaluating these under a given shift seem to be on the same order. In  this study, v is chosen as the objective function in the optimal  alignment search due to its more straightforward expression. Let τi  Figure 2. Schematic illustration of signals in Eqs. (26) and (27) represent the time shift for each signal, then v is written as a function  of the set of shifts The shape metric can be found using Eq. (17) as follows: Eq. (28) Eq. (31) The task of optimal alignment search is then to find the set of shifts  that minimize this metric, i.e., Eq. (29) The shape metric is plotted in Figure 3 as a function of the time  scaling factor k, and also plotted is the overall metric, which in this As already discussed, absolute time is of no significance as far as  case is the complement of s, because m is unity. alignment is concerned; we therefore only need to determine n-1  shifts. In all numerical examples shown below, τ1 was set to 0 in the  search (as in [4]), and the alignment search produced the optimal τ2 to  τn. In practice, the time histories are in the form of discrete signals, so  the time integral in Eq. (31) is replaced by summations and only  shifts that are integer multiples of the sampling period are  meaningful. Along this line of thinking, the optimal search would  then be an integer programming problem. However, in this study a  different approach is taken where the shifts in the search are treated  as continuous, so that well-established continuous variable  optimization search algorithms, especially those efficient gradient- based ones, can be used. This approach then requires interpolation,  Figure 3. Shape and variance metric of time-scaled half-sine time histories. i.e., resampling, of a signal under an arbitrary non-integer time shift.  Note that the shape metric ranges from 0 to 1, and only achieves 1 when k =1 Various methods are available in digital signal processing field for  which means the two time histories are identical. Further, when s = 1, the this purpose. The Lagrange interpolation based method [12] is used  variance metric is at its minimum, 0. here for its simplicity and its flat unity magnitude gain in low  </page> <page sequence="6"> Shi et al / SAE Int. J. Trans. Safety / Volume 3, Issue 1 (April 2015) 33 frequency range (in human impact injury context, high frequency part A second example of alignment and similarity assessment was run on  of the recorded response is typically of no significance. Indeed, the the set of 5 idealized half-sine signals shown in Figure 6. The  signals are typically low-pass filtered relative to the digitization rate). program identified the optimal shifts with 8 iterations involving 55  The Matlab (V7.5.0.342 (R2007b)) Optimization Toolbox (V3.1.2) evaluations of the objective function, and the iteration concluded  function fminunc.m is used to solve the problem as an unconstrained after satisfaction of the default gradient convergence tolerance. optimization problem, and several examples are given in the next  section. NUMERICAL EXAMPLES Several numerical examples were used to evaluate the performance  of the alignment program. The first example used a set of two signals  which are a half-sine and a scaled and pre-shifted version of it. The  program was run and the optimal shift found was compared with the  pre-shift between the two signals. Figures 4 and 5 show an example  of this exercise with a pre-shift of 100 time steps. The program  identified a continuous shift of −99.95 with 5 iterations involving 16  objective function evaluations. The iteration terminated with  satisfaction of the default gradient convergence criterion of  fminunc.m. Figure 6. A set of 5 half-sine signals. Relative to the first signal (the one with  the longest non-zero duration, the following describe the remaining signals:  Time scales [0.4 0.7 0.8 0.3], pre-shift [100 −50 −75 40], and magnitude  scales [1.0 2.0 1.5 1.0]. Figure 4. Two half sine with a 100 time step shift. , k = 0.4.  Equations in legend describe the non-zero part of the signals. Figure 7. Result of alignment of signals in Figure 6. Optimal shift from the  search program is [−99.90 50.00 74.99 −39.90], which when rounded, match  the pre-shift given in Figure 6. The metrics shown in the plots for the two  configurations mean that the phase metric for the initial configuration in  Figure 6 is p = 0.0620. A third example used the actual impact test data in Kang et al. [6]  provided in digital form by the first author of that work. From the original signals shown in Figure 8 (‘Set O’ in Table 1), the  search iteration terminated with the optimal shifts [−0.75 1.91 148.31  244.51 72.13 −97.29] time steps (not directly relevant to the  alignment, but for perspective, the time step size with this set of data  is 0.08 msec.). This was achieved with 21 iterations involving 245  objective function evaluations. The exit flag from fminunc.m is −2,  indicating the program could not achieve further reduction of the  objective function in the gradient-based search direction. This  Figure 5. Result of alignment of signals in Figure 4. The metrics shown in the  plots for the two configurations mean that the phase metric for the initial  configuration in Figure 4 is p = 0.0380. </page> <page sequence="7"> 34 Shi et al / SAE Int. J. Trans. Safety / Volume 3, Issue 1 (April 2015) termination condition occurs with all the rest of the runs reported Table 1. Values of Similarity Metrics of Original and Aligned Sets below using this practical set of signals. The result of this is labelled  as ‘Set B’ in Table 1. The aligned signals reported in Figure 11 of Kang et al. [6] were also  obtained from the author, and this set (‘Set A’ in Table 1) was also  used as a starting point with the current search program. The program  Figure 8. Signals from Kang et al. [2012] (Figure 10 in [Kang 2012]) used as provided the following shifts before it could not make further  ‘original’ signals for alignment improvement with the control setting options: [−12.35 −1.22 −2.00  1.32 −2.20 0.35] time steps (the result of this is denoted ‘Set C’ in  Table 1). This could be viewed as the ‘improvement’ the current  algorithm provides over that used in [6]. The values of the similarity  metrics associated with the different alignment configurations are  given in Table 1. The values in the last two rows of Table 1 indicate that the alignment  from the two different starting configurations did not yield strictly  identical results. This and its related general convergence behavior of  the search program are discussed in more detail below. DISCUSSION The study presented in this paper can be divided into two  components: first, a system of assessing the similarity with the  Figure 9. Objective function value history output given by fminunc.m normalized metrics (overall, magnitude and shape) for a set of signals  with a given relative time alignment; and secondly, an algorithm to  numerically determine the optimal alignment, and correspondingly  assessing the normalized phase metric for the set. Discussions are  given below regarding these two components with reference to the  methods in the literature commented in the Introduction. Limitations of the Numerical Alignment Algorithm The results from the last two rows of Table 1 are not identical. An  examination of the two sets of shifts shows a difference of 1 time step  for the 5th and 7th signals. One explanation for this could be the fact  that the ‘B’ set of signals received from the author of [6] are not  strictly only a shifted version of the ‘O’ set (the m values in Table 1  reveal this). This in practice happens when shifting removes non-zero  valued parts at the “lead’ or the ‘end’ of the signals. To separate this  from the behavior of the algorithm, a random simulation test is  carried out with the starting set of signals of each run being a  Figure 10. Results of alignment of signals shown in Figure 9. randomly circularly shifted version of the aligned set from the third  row of Table 1. The resulting vector of shifts is then compared with  the corresponding randomly generated pre-shift vector to assess the  </page> <page sequence="8"> Shi et al / SAE Int. J. Trans. Safety / Volume 3, Issue 1 (April 2015) 35 ability of the algorithm to converge to an absolute global optimal System of Similarity Assessment with Normalized  alignment. Because the random nature of such simulations, results Metrics vary each time, and Figure 11 presents a typical simulation test. The normalized variance metric (Eq. (13)) in this study is similar to  the “cumulative variance” measures (Eq. (1) and (2)) of Morgan,  Marcus and Eppinger [1981]. The difference is that with the specific  normalization, the metric has a defined range and therefore can be  used to compare the similarity of different sets of signals, regardless  of their amplitude and unit of measurement. This normalized system  bridges the variance-based and correlation-based signal similarity  assessment approaches, which historically have been proposed  separately, and are viewed as only generally consistent. This also  leads to the decomposition of the overall variance-based metric into  the phase, magnitude, and shape in Eq. (15) which contains the  product of the magnitude and shape metrics, as opposed to the  summation relationship in Eq. (5), which has been reasoned in the  Introduction as an incomplete separation of the magnitude and shape  qualities. Figure 11. Typical result of a 50-run random test of alignment from different The normalization has certain advantage in assessing the similarities  starting alignment. The initial random shifts of the signals are independent and of different sets each containing multiple signals and perhaps having  uniformly distributed between 0 and 300 time steps in this case. different physical unit of measurement. However, the normalization  masks the perspective provided by the physical magnitude of the  Out of the 50 runs in Figure 11, 3 did not end near the starting aligned cumulative variance which is desired in certain situations as part of a  configuration. These 3 cases rested with similar configurations, comprehensive assessment. One way to regain such a perspective  suggesting the search exited at a local minimum region. For the rest could be to multiply the normalized metrics by the normalization  47 cases, an examination of the identified shifts show that the factor which is the ‘average’ magnitude of the set. maximum difference from the pre-shifts is 1 time step. Therefore, it is  concluded that the numerical search could occasionally exit without  reaching a global minimum; and its precision is about 1 time step. Other Similarity Assessment Scenarios Aside from the assessment of the similarity of a given set of signals,  The local minimum issue is common to practical problems like this which has been the subject of this paper, the approach taken here may  where convexity is not guaranteed. The precision issue is likely be applied to other typical ‘similarity’ assessment scenarios, such as  related to the use of the gradient based Matlab function to solve this one ATD test vs. a set of PMHS tests (such as in [1,7]), or even two  discrete problem; and the fact that the ‘zero start, zero end’ condition sets of tests. For the former, one approach would be to align the  that is required by the formulation is not strictly satisfied by the PMHS set, and then obtain an average of the aligned signals as a  signals (which could be avoided by padding zeros to both ends of the representation of the PMHS response (i.e., the signals in the set are  signals). Further studies of these numerical aspects have not been viewed as random realizations of an underlying non-stationary  performed currently, but it is imagined that for practical applications, random process). The problem then becomes one of assessing the  several heuristic approaches are possible. For example, to avoid similarity of two deterministic time histories (relying on only one  trapping at a local minimum, each signal could be pre-conditioned to ATD test result would imply that it is treated as deterministic), for  be aligned with the first signal either via peak timing, or cross- which the current alignment and normalized assessment can be  correlation (which is a trivial operation for a pair). This will establish carried out. In the second scenario where two sets (e.g., an ATD set  a starting point that would in general be close to the global optimal vs. a PMHS set; or two ATD sets) could follow a process of dealing  configuration, thereby, improving the chance of converging to it. At with each set separately using the method in this study, and then align  the same time/or separately, ‘global optimization’ algorithms could be and assess the two average time histories as a set of two signals. In  used. Furthermore, departing from the interpolation scheme used in either of these scenarios, the normalized metrics between the  this study, the search could be solved as an integer programming averages could be compared with those from each set. If all these are  problem with integer time step shifts. The genetic search function in viewed as statistical quantities, then the analysis of variance  the Matlab Global Optimization Toolbox is applicable to such (ANOVA) type of philosophy may be used to assess the significance  problems of global optimization with discrete variables. of the similarity between the sets relative to those for the individual  sets. </page> <page sequence="9"> 36 Shi et al / SAE Int. J. Trans. Safety / Volume 3, Issue 1 (April 2015) Finally, it is noted that the alignment operation presented here are in REFERENCES the time domain. Broadly speaking, the problem of aligning signals is 1. Morgan, R. M., Marcus, J. H., and Eppinger, R. H., “Correlation of Side  found in many different fields such as acoustics and medical signals, Impact Dummy/Cadaver Tests”, Proceedings of Twenty-Fifth Stapp Car  etc. [13, 14]. Frequency domain-based alignment methods are often Crash Conference, pp.301-328, 1981. 2. Xu, L., Agaram, V., Rouhana, S., Hultman, R. et al., “Repeatability  used in those applications [14]. It appears that since impact signals Evaluation of the Pre-Prototype NHTSA Advanced Dummy Compared  are short duration and non-stationary, and our interest is generally to the Hybrid III,” SAE Technical Paper 2000-01-0165, 2000,  limited to the low frequency range, the time domain seems to be the doi:10.4271/2000-01-0165. 3. Maltese, M. R. et al., “Response Corridors of Human Surrogates in  natural and appropriate choice. Lateral Impacts”, Stapp Car Crash Journal Vol.46, pp. 321-351, 2002. 4. Nusholtz, G. S. et al., “Creating Representative Curves from Multiple  Time Histories of Vehicle, ATD and Biomechanics Tests”, Proceedings  SUMMARY &amp; CONCLUSIONS of the 21st International Technical Conference on the Enhanced Safety of  Vehicles”, Paper #09-0249, 2009. The method of assessing the similarity of a set of impact test signals 5. Donnelly, B. R. and Moorhouse, K., “Optimized Phasing of PMHS  has been the subject of several studies, with applications to Response Curves for Biofidelity Targets”, IRCOBI Conference, Paper #  IRC-12-51, 2012. quantifying the biofidelity of ATDs with PMHS test references, and 6. Kang, Y.-S. et al., “Biomechanical Responses of PMHS in Moderate- repeatability and reproducibility of impact tests of ATDs, or other Speed Rear Impacts and Development of Response Targets for  vehicle safety development tests. The cumulative variance measure Evaluating the Internal and External Biofidelity of ATDs”, Stapp Car  Crash Journal, Vol. 56, pp. 105-170, 2012. has been proposed and used in some studies; while parallel to this, 7. Moorhouse, K. et al., “Evaluation of the Internal and External  the correlation-based assessment represents an alternative Biofidelity of Current Rear Impact ATDs to Response Targets Developed  methodology [15]. In this study, a normalized formulation unites from Moderate-Speed Rear Impacts of PMHS”, Stapp Car Crash  Journal, Vol. 56, pp. 171-229, 2012. these two approaches by establishing a relationship between the 8. Gehre, C., Gades, H., and Wernicke, P., “Objective Rating of Signals  normalized cumulative variance metric, an overall similarity metric, Using Test and Simulation Responses”, Proceedings of the 21st  and the normalized magnitude and shape similarity metrics. Each of International Technical Conference on the Enhanced Safety of Vehicles,  Paper #09-0407, 2009. these ranges between 0 and 1 (for the practical case of signals 9. Gehre, C., Stahlschmidt, S., “Assessment of Dummy Models by Using  acquired with the same polarity), and they are independent of the unit Objective Rating Methods”, Proceedings of the 22nd International  of measurement. The normalized shape metric depends on the relative Technical Conference on the Enhanced Safety of Vehicles, Paper # 11- 0216, 2011. time shifts between the signals, and an optimal alignment is defined 10. Jovanovski, J., “Crash Data Analysis and Model Validation Using  as the relative shifts corresponding to the minimum of the cumulative Correlation Techniques,” SAE Technical Paper 810471, 1981,  variance metric. This study has shown that equivalently, this doi:10.4271/810471. corresponds to the maximum of the shape metric. This system 11. Donnelly, B., Morgan, R., and Eppinger, R., “Durability, Repeatability and Reproducibility of the NHTSA Side Impact Dummy,” SAE  therefore quantifies the similarity of a given set of signals with an “as Technical Paper 831624, 1983, doi:10.4271/831624. given” normalized cumulative variance as an overall metric, and it 12. Smith III, J. O., “Interpolated Delay Lines, Ideal Bandlimited  can be broken down to a normalized phase metric (also between 0 Interpolation, and Fractional Delay Filter Design”, https://ccrma.stanford.edu/∼jos/Interpolation/Interpolation_4up.pdf, last accessed  and 1) that reflects the “misalignment”, in conjunction with the Feb. 2, 2015. normalized magnitude metric, and the optimal (i.e., aligned) 13. Zhang, Y., and Abdulla, W. H., “A Comparative Study of Time-Delay  normalized shape metric. Estimation Techniques Using MicrophoneArrays”, http://homepages.engineering.auckland.ac.nz/∼wabd002/Technical%20Reports/ Technical%20Report%20619_Yushi.pdf, last accessed Feb. 2, 2015. An algorithm is provided for automatic search of the optimal shifts 14. Vu, T. N., and Laukens, K., “Getting Your Peaks in Line: A Review of  with a given set of signals using the cumulative variance as the Alignment Methods for NMR Spectral Data”, Metabolites, V3, 259-276, doi:10.3390, 2013. objective function. The shifts are treated as real numbers instead of 15. Nusholtz, G. S., Hsu, T. P., and Byers, L. C., “A Proposed Side Impact  integers so that standard continuous variable optimization functions ATD Bio-Fidelity Evaluation Scheme Using Cross-Correlation  can be used to treat the discrete signals. This is facilitated by an Approach”, Proceedings of the 20 th International Technical Conference  on the Enhanced Safety of Vehicles, Paper # 07-0399, 2007. interpolation procedure for shifting a signal with a real-valued time  shift. An implementation in Matlab is given. At the center of this ACKNOWLEDGEMENT program is the unconstrained optimization function fminunc.m in  The authors would like to thank Dr. Yun-Seok Kang of Ohio State  Matlab Optimization Toolbox, which uses efficient gradient-based  University for kindly sharing the impact test data shown in Figure 8  line search strategy for continuous problems. Example problems with  and Table 1 used to evaluate the algorithm in this study. General  half-sine signals show that the program successfully aligns the  discussions with Drs. Zine Ben Aoun, Jianping Wu, Lan Xu, and Tim  signals. A practical example with impact signals shows that the  P. Hsu at Chrysler Group LLC have contributed to the definition and  program identifies the optimal shift within 1 step size resolution;  formulation of this topic. however, multiple numerical experiments with this set has shown that  the program may not always provide the global optimal solution.  Practical approaches are suggested that may mitigate this, and the use  of global optimal search algorithms for integer type variables may  address the current limitation. </page> <page sequence="10"> Shi et al / SAE Int. J. Trans. Safety / Volume 3, Issue 1 (April 2015) 37 APPENDIX Appendix A: Discrete Version of the Metrics In the case of the discrete signals, if the integrals are replaced by summation, equivalent equations can be obtained. In particular, the norm for the  discrete case is defined as: Eq. (B1) Eq. (B2) Eq. (B3) Eq. (B4) It is worth noting that Eqs. (A4), (A9) and (A10) apply to the discrete case as well. This can be proved by recognizing that the discrete case  numerically is equivalent to a “zero-order-hold” continuous time history. The equations also show that the metrics, v, m, and s are independent of the  length of the signal N, as long as it covers the non-zero part of the signals. Appendix B: Ranges of the Metrics For the range of m, consider: Eq. (A1) Expanding the left side, we have Eq. (A2) This leads to: Eq. (A3) With Eqs. (16) and (A3), the range of m is therefore found to be: Eq. (A4) Note that the first part of the inequality is based on the fact that the norm of the signals, as defined in Eq. (12) is always non-negative and the  definition of m in Eq. (16). </page> <page sequence="11"> 38 Shi et al / SAE Int. J. Trans. Safety / Volume 3, Issue 1 (April 2015) For the range of the parameter s, considering any combination of i and j, (i,j ε 1, ..., n), from the Cauchy-Schwarz inequality, we have Eq. (A5) Therefore, Eq. (A6) Summed over all i ≠ j cases, we have Eq. (A7) This means: Eq. (A8) i.e., Eq. (A9) The ranges m and s determined above mean that the range of the normalized variance is: Eq. (A10) All rights reserved. No part of this publication may be reproduced, stored in a retrieval system, or transmitted, in any form or by any means, electronic, mechanical, photocopying, recording, or  otherwise, without the prior written permission of SAE International. Positions and opinions advanced in this paper are those of the author(s) and not necessarily those of SAE International. The author is solely responsible for the content of the paper. </page> </plain_text> 